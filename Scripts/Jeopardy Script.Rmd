---
title: "Dataquest Jeopardy! Project"
author: "Douglas Carr"
date: "5/9/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

## Project Purpose

The purpose of this project is to use data regarding Jeopary! show questions to determine the optimal categories to study to provide the best chance of success if you appear on the show.  We will do this by examining a data set of 20,000 questions from Jeopardy! episodes and attempting to discern any pattern regarding question categories.

## Data Import

```{r}
jeopardy <- read_csv("https://query.data.world/s/gb5qjrgib6gg3dz24udelbh7jqmpjt")
```

Now that the data is loaded, let's examine the first few rows of the dataset plus the column names list to plot out our next steps.

```{r}
head(jeopardy, 5)
colnames(jeopardy)
```

## Data Prep

The column names are decidedly un-tidy, so let's use the `janitor` package to clean that up!

```{r include=FALSE}
library(janitor)
```

```{r}
jeopardy <- jeopardy %>%
  janitor::clean_names()
```

Now that we've got our column names nice and tidy, we need to fix the value column to be numeric rather than character. The presence of the dollar sign ($) is throwing us off, so let's get rid of it in order to convert the column. We also want to get rid of the questions with "None" as a value, as they won't work in our later analysis.

```{r}
jeopardy <- jeopardy %>%
  filter(value != "None") %>%
  mutate(
    value = str_replace_all(.$value, "[$,]", ""),
    value = as.numeric(value)
  )
```

Now let's quickly check to see if that did the trick.

```{r}
sort(unique(jeopardy$value))
typeof(jeopardy$value)
```

Looking good!

## Text Normalization

Text data can be messy to work with in the way we want to, so next we need to perform some normalization steps to make sure everything is set up the way we need it for our analysis. Specifically, we want to convert everything to lower case and then remove all punctuation marks, and we need to do this on `question`, `answer`, and `category`.

```{r}
jeopardy <- jeopardy %>%
  mutate(
    question = tolower(question),
    question = str_remove_all(question, "[^A-Za-z0-9 ]"),
    answer = tolower(answer),
    answer = str_remove_all(answer, "[^A-Za-z0-9 ]"),
    category = tolower(category),
    category = str_remove_all(category, "[^A-Za-z0-9 ]")
  )
```

We also want to separate the `air_date` column out into its constituent parts and create `year`, `month`, and `day` columns.

```{r}
jeopardy <- jeopardy %>%
  separate(air_date, into = c("year", "month", "day"), sep = "-") %>%
  mutate(
    year = as.numeric(year),
    month = as.numeric(month),
    day = as.numeric(day)
  )
```

Once more let's take a quick look to see if our data is looking like we expect it to.

```{r}
head(jeopardy)
```

Great! Moving along then.